import{a as S}from"./chunk-24A472CK.js";import{a as A}from"./chunk-QTVL75T3.js";import{a as u,b}from"./chunk-LTMG5A4G.js";import{a as y}from"./chunk-VGGCM2XJ.js";import{a as g}from"./chunk-AAS3MA3C.js";import{d as C}from"./chunk-E36SNTQA.js";import{a as o}from"./chunk-D7WMKMTL.js";function l(){let e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;let t=Array.from(e).map(f=>f.toString(16).padStart(2,"0"));return`${t.slice(0,4).join("")}-${t.slice(4,6).join("")}-${t.slice(6,8).join("")}-${t.slice(8,10).join("")}-${t.slice(10).join("")}`}function $({condition_id:e,condition_index:t,condition_state:n,preExistingConditions:f,removeCondition:h,updateCondition:a}){let x=Array.from(n.comorbidities),p=Array.from(n.medications),c=f.find(i=>i.id===e),m=`pre_existing_conditions.${t}`,M=()=>{let i=l(),r=[...x,{id:i,removed:!1}],d={medications:n.medications,comorbidities:r,removed:!1};a(d)},R=()=>{let i=l(),d={medications:[...p,{id:i,removed:!1}],comorbidities:n.comorbidities,removed:!1};a(d)};return o(b,{onClick:h,labelled:!0,children:o("div",{className:"flex flex-col w-full gap-2",children:[o(g,{children:[o(y,{label:"Condition name",name:m,value:c}),o(C,{name:`${m}.start_date`,label:"Start Date",value:c?.start_date,required:!0}),typeof e=="number"&&o("input",{type:"hidden",name:`${m}.id`,value:e})]}),x.map((i,r)=>!i.removed&&o(S,{matchingCondition:c,condition_prefix:m,comorbidity_id:i.id,comorbidity_index:r,removeComorbidity:()=>{let d=x.map(s=>s===i?{removed:!0}:s),v={medications:n.medications,comorbidities:d,removed:!1};a(v)}})),o(u,{onClick:M,text:"Add Comorbidity"}),p.map((i,r)=>!i.removed&&o(A,{matchingCondition:c,condition_prefix:m,medication_id:i.id,medication_index:r,removeMedication:()=>{let v={medications:p.map(s=>s===i?{removed:!0}:s),comorbidities:n.comorbidities,removed:!1};a(v)}})),o(u,{onClick:R,text:"Add Medication",labelled:!0})]})},e)}export{l as a,$ as b};
