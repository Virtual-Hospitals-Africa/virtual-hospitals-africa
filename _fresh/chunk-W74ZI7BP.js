import{a as y}from"./chunk-5DTQ5PXT.js";import{a as v}from"./chunk-UJJTOOON.js";import{a as u,b as p}from"./chunk-LTMG5A4G.js";import{a as S}from"./chunk-AWIQR3VV.js";import{a as g}from"./chunk-AAS3MA3C.js";import{d as C}from"./chunk-S3N45IXZ.js";import{a as i}from"./chunk-D7WMKMTL.js";function a(){let o=new Uint8Array(16);crypto.getRandomValues(o),o[6]=o[6]&15|64,o[8]=o[8]&63|128;let r=Array.from(o).map(l=>l.toString(16).padStart(2,"0"));return`${r.slice(0,4).join("")}-${r.slice(4,6).join("")}-${r.slice(6,8).join("")}-${r.slice(8,10).join("")}-${r.slice(10).join("")}`}function $({condition_id:o,condition_index:r,condition_state:d,preExistingConditions:l,removeCondition:w,updateCondition:s}){let b=Array.from(d.comorbidities),x=Array.from(d.medications),c=l.find(t=>t.id===o),m=`pre_existing_conditions.${r}`,h=()=>{let t=a(),e=new Set(b);e.add(t);let n={medications:d.medications,comorbidities:e};s(n)},R=()=>{let t=a(),e=new Set(x);e.add(t);let n={medications:e,comorbidities:d.comorbidities};s(n)};return i(p,{onClick:w,labelled:!0,children:i("div",{className:"flex flex-col w-full gap-2",children:[i(g,{children:[i(S,{label:"Condition name",name:m,value:c}),i(C,{name:`${m}.start_date`,label:"Start Date",value:c?.start_date,required:!0}),typeof o=="number"&&i("input",{type:"hidden",name:`${m}.id`,value:o})]}),b.map((t,e)=>i(y,{matchingCondition:c,condition_prefix:m,comorbidity_id:t,comorbidity_index:e,removeComorbidity:()=>{let n=new Set(b);n.delete(t);let f={medications:d.medications,comorbidities:n};s(f)}})),i(u,{onClick:h,text:"Add Comorbidity"}),x.map((t,e)=>i(v,{matchingCondition:c,condition_prefix:m,medication_id:t,medication_index:e,removeMedication:()=>{let n=new Set(x);n.delete(t);let f={medications:n,comorbidities:d.comorbidities};s(f)}})),i(u,{onClick:R,text:"Add Medication",labelled:!0})]})},o)}export{a,$ as b};
