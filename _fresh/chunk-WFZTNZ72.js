import{a as g}from"./chunk-PUFKA25I.js";import{a as y}from"./chunk-O4A2H52W.js";import{a as x}from"./chunk-QDOAGMQH.js";import{a as v,b}from"./chunk-LTMG5A4G.js";import{a as u}from"./chunk-3EN3CWPQ.js";import{a as p}from"./chunk-AAS3MA3C.js";import{e as C}from"./chunk-5D2L5IOQ.js";import{a as i}from"./chunk-D7WMKMTL.js";function w({condition_id:m,condition_index:S,condition_state:e,preExistingConditions:M,removeCondition:h,updateCondition:s}){let c=Array.from(e.comorbidities),l=Array.from(e.medications),a=M.find(o=>o.id===m),d=`pre_existing_conditions.${S}`,A=()=>{let o=x(),t=[...c,{id:o,removed:!1}],n={medications:e.medications,comorbidities:t,removed:!1};s(n)},R=()=>{let o=x(),n={medications:[...l,{id:o,removed:!1}],comorbidities:e.comorbidities,removed:!1};s(n)};return i(b,{onClick:h,labelled:!0,children:i("div",{className:"flex flex-col w-full gap-2",children:[i(p,{children:[i(u,{label:"Condition name",name:d,value:a}),i(C,{name:`${d}.start_date`,label:"Start Date",value:a?.start_date,required:!0}),typeof m=="number"&&i("input",{type:"hidden",name:`${d}.id`,value:m})]}),c.map((o,t)=>!o.removed&&i(g,{matchingCondition:a,condition_prefix:d,comorbidity_id:o.id,comorbidity_index:t,removeComorbidity:()=>{let n=c.map(r=>r===o?{removed:!0}:r),f={medications:e.medications,comorbidities:n,removed:!1};s(f)}})),i(v,{onClick:A,text:"Add Comorbidity"}),l.map((o,t)=>!o.removed&&i(y,{matchingCondition:a,condition_prefix:d,medication_id:o.id,medication_index:t,removeMedication:()=>{let f={medications:l.map(r=>r===o?{removed:!0}:r),comorbidities:e.comorbidities,removed:!1};s(f)}})),i(v,{onClick:R,text:"Add Medication",labelled:!0})]})},m)}export{w as a};
